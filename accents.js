accent_words = [
    {'word': 'аэропорты', 'adi': 'им. п. мн. ч. сущ. аэропорт ', 'r': 3},
    {'word': 'банты', 'adi': 'им. п. мн. ч. сущ. бант ', 'r': 0},
    {'word': 'бороду', 'adi': 'вин. п. ед. ч. сущ. борода', 'r': 0},
    {'word': 'бухгалтеров', 'adi': 'род. п. мн. ч. сущ. бухгалтер ', 'r': 1},
    {'word': 'вероисповедание', 'adi': '', 'r': 4},
    {'word': 'водопровод', 'adi': '', 'r': 3},
    {'word': 'газопровод', 'adi': '', 'r': 3},
    {'word': 'гражданство', 'adi': '', 'r': 1},
    {'word': 'дефис', 'adi': '', 'r': 1},
    {'word': 'дешевизна', 'adi': '', 'r': 2},
    {'word': 'диспансер', 'adi': '', 'r': 2},
    {'word': 'договорённость', 'adi': '', 'r': 3},
    {'word': 'документ', 'adi': '', 'r': 2},
    {'word': 'досуг', 'adi': '', 'r': 1},
    {'word': 'еретик', 'adi': '', 'r': 2},
    {'word': 'жалюзи', 'adi': '', 'r': 2},
    {'word': 'значимость', 'adi': '', 'r': 0},
    {'word': 'иксы', 'adi': 'им. п. мн. ч. сущ. икс', 'r': 0},
    {'word': 'каталог', 'adi': '', 'r': 2},
    {'word': 'квартал', 'adi': '(во всех значениях)', 'r': 1},
    {'word': 'километр', 'adi': '', 'r': 2},
    {'word': 'конусов', 'adi': 'род. п. мн. ч. сущ. конус', 'r': 0},
    {'word': 'корысть', 'adi': '', 'r': 1},
    {'word': 'краны', 'adi': 'им. п. мн. ч. сущ. кран', 'r': 0},
    {'word': 'кремень', 'adi': '', 'r': 1},
    {'word': 'кремня', 'adi': 'род. п. ед. ч.', 'r': 1},
    {'word': 'лекторов', 'adi': 'род. п. мн. ч. сущ. лектор', 'r': 0},
    {'word': 'локтя', 'adi': 'род. п. ед. ч. сущ. локоть', 'r': 0},
    {'word': 'локтей', 'adi': 'род. п. мн. ч. ', 'r': 1},
    {'word': 'лыжня', 'adi': '', 'r': 1},
    {'word': 'местностей', 'adi': 'род. п. мн. ч. сущ. местность', 'r': 0},
    {'word': 'намерение', 'adi': '', 'r': 1},
    {'word': 'нарост', 'adi': '', 'r': 1},
    {'word': 'недруг', 'adi': '', 'r': 0},
    {'word': 'недуг', 'adi': '', 'r': 1},
    {'word': 'некролог', 'adi': '', 'r': 2},
    {'word': 'ненависть', 'adi': '', 'r': 0},
    {'word': 'нефтепровод', 'adi': '', 'r': 3},
    {'word': 'новостей', 'adi': 'род. п. мн. ч. сущ. новость', 'r': 2},
    {'word': 'ногтя', 'adi': 'род. п. ед. ч. сущ. ноготь', 'r': 0},
    {'word': 'ногтей', 'adi': 'род. п. мн. ч.', 'r': 1},
    {'word': 'отзыв', 'adi': '(посла из страны) – потребовать возвращения назад', 'r': 1},
    {'word': 'отрочество', 'adi': '', 'r': 0},
    {'word': 'партер', 'adi': '', 'r': 1},
    {'word': 'портфель', 'adi': '', 'r': 1},
    {'word': 'поручни', 'adi': '', 'r': 0},
    {'word': 'приданое', 'adi': '', 'r': 1},
    {'word': 'призыв', 'adi': '', 'r': 1},
    {'word': 'свёкла', 'adi': '', 'r': 0},
    {'word': 'сироты', 'adi': 'им. п. мн. ч. сущ. сирота', 'r': 1},
    {'word': 'созыв', 'adi': '', 'r': 1},
    {'word': 'сосредоточение ', 'adi': '', 'r': 3},
    {'word': 'средства', 'adi': 'им. п. мн. ч. сущ. средство', 'r': 0},
    {'word': 'статуя', 'adi': '', 'r': 0},
    {'word': 'столяр', 'adi': '', 'r': 1},
    {'word': 'таможня', 'adi': '', 'r': 1},
    {'word': 'торты', 'adi': 'им. п. мн. ч. сущ. торт', 'r': 0},
    {'word': 'туфля', 'adi': '', 'r': 0},
    {'word': 'цемент', 'adi': '', 'r': 1},
    {'word': 'центнер', 'adi': '', 'r': 0},
    {'word': 'цепочка', 'adi': '', 'r': 1},
    {'word': 'шарфы', 'adi': 'им. п. мн. ч. сущ. шарф', 'r': 0},
    {'word': 'шофёр', 'adi': '', 'r': 1},
    {'word': 'эксперт', 'adi': '', 'r': 1},
    {'word': 'верна', 'adi': 'кр. ф. ж. р. прил. верный', 'r': 1},
    {'word': 'значимый', 'adi': '', 'r': 0},
    {'word': 'красивее', 'adi': 'сравн. ст. прил. красивый', 'r': 1},
    {'word': 'красивейший', 'adi': 'превосх. ст. прил. красивый', 'r': 1},
    {'word': 'кухонный', 'adi': '', 'r': 0},
    {'word': 'ловка', 'adi': 'кр. ф. ж. р. прил. ловкий', 'r': 1},
    {'word': 'мозаичный', 'adi': '', 'r': 2},
    {'word': 'оптовый', 'adi': '', 'r': 1},
    {'word': 'прозорливый', 'adi': '', 'r': 2},
    {'word': 'прозорлива', 'adi': 'кр. ф. ж. р.', 'r': 2},
    {'word': 'сливовый', 'adi': '', 'r': 0},
    {'word': 'брала', 'adi': 'прош. вр. ж. р. глаг. брать', 'r': 1},
    {'word': 'бралась', 'adi': 'прош. вр. ж. р. глаг. браться', 'r': 1},
    {'word': 'взяла', 'adi': 'прош. вр. ж. р. глаг. взять', 'r': 1},
    {'word': 'взялась', 'adi': 'прош. вр. ж. р. глаг. взяться', 'r': 1},
    {'word': 'влилась', 'adi': 'прош. вр. ж. р. глаг. влиться', 'r': 1},
    {'word': 'ворвалась', 'adi': 'прош. вр. ж. р. глаг. ворваться ', 'r': 2},
    {'word': 'воспринять', 'adi': '', 'r': 2},
    {'word': 'восприняла', 'adi': 'прош. вр. ж. р.', 'r': 3},
    {'word': 'воссоздала', 'adi': 'прош. вр. ж. р. глаг. воссоздать', 'r': 3},
    {'word': 'вручит', 'adi': '3-е л. ед. ч. 2 глаг. вручить', 'r': 1},
    {'word': 'гнала', 'adi': 'прош. вр. ж. р. глаг. гнать ', 'r': 1},
    {'word': 'гналась', 'adi': 'прош. вр. ж. р. глаг. гнаться', 'r': 1},
    {'word': 'добрала', 'adi': 'прош. вр. ж. р. глаг. добрать', 'r': 2},
    {'word': 'добралась', 'adi': 'прош. вр. ж. р. глаг. добраться', 'r': 2},
    {'word': 'дождалась', 'adi': 'прош. вр. ж. р. глаг. дождаться', 'r': 2},
    {'word': 'дозвонится', 'adi': '3-е л. ед. ч. глаг. дозвониться', 'r': 2},
    {'word': 'дозировать', 'adi': '', 'r': 1},
    {'word': 'ждала', 'adi': 'прош. вр. ж. р. глаг. ждать', 'r': 1},
    {'word': 'жилось', 'adi': 'прош. вр. ср. р. глаг. житься', 'r': 1},
    {'word': 'закупорить', 'adi': '', 'r': 1},
    {'word': 'занять', 'adi': '', 'r': 1},
    {'word': 'занял', 'adi': 'прош. вр.', 'r': 0},
    {'word': 'заняла', 'adi': 'прош. вр.', 'r': 2},
    {'word': 'заняли', 'adi': 'прош. вр.', 'r': 0},
    {'word': 'заперла', 'adi': 'прош. вр. ж. р. глаг. запереть', 'r': 2},
    {'word': 'запломбировать', 'adi': '', 'r': 4},
    {'word': 'защемит', 'adi': '3-е л. ед. ч. глаг. защемить', 'r': 2},
    {'word': 'звала', 'adi': 'прош. вр. ж. р. глаг. звать', 'r': 1},
    {'word': 'звонит', 'adi': '3-е л. ед. ч. глаг. звонить', 'r': 1},
    {'word': 'кашлянуть', 'adi': '', 'r': 0},
    {'word': 'клала', 'adi': 'прош. вр. ж. р. глаг. класть', 'r': 0},
    {'word': 'клеить', 'adi': '', 'r': 0},
    {'word': 'кралась', 'adi': 'прош. вр. ж. р. глаг. красться', 'r': 0},
    {'word': 'кровоточить ', 'adi': '', 'r': 3},
    {'word': 'лгала', 'adi': 'прош. вр. ж. р. глаг. лгать', 'r': 1},
    {'word': 'лила', 'adi': 'прош. вр. ж. р. глаг. лить', 'r': 1},
    {'word': 'лилась', 'adi': 'прош. вр. ж. р. глаг. литься', 'r': 1},
    {'word': 'наврала', 'adi': 'прош. вр. ж. р. глаг. наврать', 'r': 2},
    {'word': 'наделит', 'adi': '3-е л. ед. ч. глаг. наделить', 'r': 2},
    {'word': 'надорвалась', 'adi': 'прош. вр. ж. р. глаг. надорваться', 'r': 3},
    {'word': 'назвалась', 'adi': 'прош. вр. ж. р. глаг. назваться', 'r': 2},
    {'word': 'накренится', 'adi': '3-е л. ед. ч. глаг. накрениться', 'r': 2},
    {'word': 'налила', 'adi': 'прош. вр. ж. р. глаг. налить', 'r': 2},
    {'word': 'нарвала', 'adi': 'прош. вр. ж. р. глаг. нарвать', 'r': 2},
    {'word': 'начать', 'adi': '', 'r': 1},
    {'word': 'начал', 'adi': 'прош. вр.', 'r': 0},
    {'word': 'начала', 'adi': 'прош. вр.', 'r': 2},
    {'word': 'начали', 'adi': 'прош. вр.', 'r': 0},
    {'word': 'обзвонит', 'adi': '3-е л. ед. ч. глаг. обзвонить', 'r': 2},
    {'word': 'облегчить', 'adi': '', 'r': 2},
    {'word': 'облегчит', 'adi': '3-е л. ед. ч.', 'r': 2},
    {'word': 'облилась', 'adi': 'прош. вр. ж. р. глаг. облиться', 'r': 2},
    {'word': 'обнялась', 'adi': 'прош. вр. ж. р. глаг. обняться', 'r': 2},
    {'word': 'обогнала', 'adi': 'прош. вр. ж. р. глаг. обогнать', 'r': 3},
    {'word': 'ободрала', 'adi': 'прош. вр. ж. р. глаг. ободрать', 'r': 3},
    {'word': 'ободрить', 'adi': '', 'r': 2},
    {'word': 'ободрит', 'adi': '3-е л. ед. ч. ', 'r': 2},
    {'word': 'ободриться', 'adi': '', 'r': 2},
    {'word': 'ободрится', 'adi': '3-е л. ед. ч.', 'r': 2},
    {'word': 'обострить', 'adi': '', 'r': 2},
    {'word': 'одолжить', 'adi': '', 'r': 2},
    {'word': 'одолжит', 'adi': '3-е л. ед. ч.', 'r': 2},
    {'word': 'озлобить', 'adi': '', 'r': 1},
    {'word': 'оклеить', 'adi': '', 'r': 1},
    {'word': 'окружит', 'adi': '3-е л. ед. ч. глаг. окружить ', 'r': 2},
    {'word': 'опошлить', 'adi': '', 'r': 1},
    {'word': 'осведомиться', 'adi': '', 'r': 1},
    {'word': 'осведомится', 'adi': '3-е л. ед. ч.', 'r': 1},
    {'word': 'отбыла', 'adi': 'прош. вр. ж. р. глаг. отбыть', 'r': 2},
    {'word': 'отдала', 'adi': 'прош. вр. ж. р. глаг. отдать', 'r': 2},
    {'word': 'откупорить', 'adi': '', 'r': 1},
    {'word': 'отозвала', 'adi': 'прош. вр. ж. р. глаг. отозвать', 'r': 3},
    {'word': 'отозвалась', 'adi': 'прош. вр. ж. р. глаг. отозваться', 'r': 3},
    {'word': 'перезвонит', 'adi': '3-е л. ед. ч. глаг. перезвонить', 'r': 3},
    {'word': 'перелила', 'adi': 'прош. вр. ж. р. глаг. перелить', 'r': 3},
    {'word': 'плодоносить', 'adi': '', 'r': 3},
    {'word': 'пломбировать', 'adi': '', 'r': 3},
    {'word': 'повторит', 'adi': '3-е л. ед. ч. глаг. повторить', 'r': 2},
    {'word': 'позвала', 'adi': 'прош. вр. ж. р. глаг. позвать', 'r': 2},
    {'word': 'позвонит', 'adi': '3-е л. ед. ч. глаг. позвонить', 'r': 2},
    {'word': 'полила', 'adi': 'прош. вр. ж. р. глаг. полить', 'r': 2},
    {'word': 'положить', 'adi': '', 'r': 2},
    {'word': 'положил', 'adi': 'прош. вр. м. р.', 'r': 2},
    {'word': 'понять', 'adi': '', 'r': 1},
    {'word': 'поняла', 'adi': 'прош. вр. ж. р.', 'r': 2},
    {'word': 'послала', 'adi': 'прош. вр. ж. р. глаг. послать', 'r': 1},
    {'word': 'прибыть', 'adi': '', 'r': 1},
    {'word': 'прибыл', 'adi': 'прош. вр.', 'r': 0},
    {'word': 'прибыла', 'adi': 'прош. вр.', 'r': 2},
    {'word': 'прибыли', 'adi': 'прош. вр.', 'r': 0},
    {'word': 'принять', 'adi': '', 'r': 1},
    {'word': 'принял', 'adi': 'прош. вр.', 'r': 0},
    {'word': 'приняла', 'adi': 'прош. вр.', 'r': 2},
    {'word': 'приняли', 'adi': 'прош. вр.', 'r': 0},
    {'word': 'рвала', 'adi': 'прош. вр. ж. р. глаг. рвать', 'r': 1},
    {'word': 'сверлит', 'adi': '3-е л. ед. ч. глаг. сверлить', 'r': 1},
    {'word': 'сняла', 'adi': 'прош. вр. ж. р. глаг. снять', 'r': 1},
    {'word': 'соврала', 'adi': 'прош. вр. ж. р. глаг. соврать', 'r': 2},
    {'word': 'создала', 'adi': 'прош. вр. ж. р. глаг. создать', 'r': 2},
    {'word': 'сорвала', 'adi': 'прош. вр. ж. р. глаг. сорвать', 'r': 2},
    {'word': 'сорит', 'adi': '3-е л. ед. ч. глаг. сорить', 'r': 1},
    {'word': 'убрала', 'adi': 'прош. вр. ж. р. глаг. убрать', 'r': 2},
    {'word': 'углубить', 'adi': '', 'r': 2},
    {'word': 'укрепит', 'adi': '3-е л. ед. ч. глаг. укрепить', 'r': 2},
    {'word': 'черпать', 'adi': '', 'r': 0},
    {'word': 'щемит', 'adi': '3-е л. ед. ч. глаг. щемить', 'r': 1},
    {'word': 'щёлкать', 'adi': '', 'r': 0},
    {'word': 'довезённый', 'adi': '', 'r': 2},
    {'word': 'загнутый', 'adi': '', 'r': 0},
    {'word': 'занятый', 'adi': 'кр. ф. ж. р.', 'r': 0},
    {'word': 'занята', 'adi': 'кр. ф. ж. р.', 'r': 2},
    {'word': 'запертый', 'adi': '', 'r': 0},
    {'word': 'заселённый', 'adi': '', 'r': 2},
    {'word': 'заселена', 'adi': 'кр. ф. ж. р.', 'r': 3},
    {'word': 'кормящий', 'adi': '', 'r': 1},
    {'word': 'кровоточащий', 'adi': '', 'r': 3},
    {'word': 'наживший', 'adi': '', 'r': 1},
    {'word': 'наливший', 'adi': '', 'r': 1},
    {'word': 'нанявшийся', 'adi': '', 'r': 1},
    {'word': 'начавший', 'adi': '', 'r': 1},
    {'word': 'начатый', 'adi': '', 'r': 0},
    {'word': 'низведённый', 'adi': '', 'r': 2},
    {'word': 'облегчённый', 'adi': '', 'r': 2},
    {'word': 'ободрённый', 'adi': '', 'r': 2},
    {'word': 'обострённый', 'adi': '', 'r': 2},
    {'word': 'отключённый', 'adi': '', 'r': 2},
    {'word': 'повторённый', 'adi': '', 'r': 2},
    {'word': 'поделённый', 'adi': '', 'r': 2},
    {'word': 'понявший', 'adi': '', 'r': 1},
    {'word': 'принятый', 'adi': '', 'r': 0},
    {'word': 'принята', 'adi': 'кр. ф. ж. р.', 'r': 2},
    {'word': 'приручённый', 'adi': '', 'r': 2},
    {'word': 'проживший', 'adi': '', 'r': 1},
    {'word': 'снята', 'adi': 'кр. ф. ж. р. прич. снятый', 'r': 1},
    {'word': 'согнутый', 'adi': '', 'r': 0},
    {'word': 'углублённый', 'adi': '', 'r': 2},
    {'word': 'закупорив', 'adi': '', 'r': 1},
    {'word': 'начав', 'adi': '', 'r': 1},
    {'word': 'начавшись', 'adi': '', 'r': 1},
    {'word': 'отдав', 'adi': '', 'r': 1},
    {'word': 'подняв', 'adi': '', 'r': 1},
    {'word': 'поняв', 'adi': '', 'r': 1},
    {'word': 'прибыв', 'adi': '', 'r': 1},
    {'word': 'создав', 'adi': '', 'r': 1},
    {'word': 'вовремя', 'adi': '', 'r': 0},
    {'word': 'доверху', 'adi': '', 'r': 0},
    {'word': 'донельзя', 'adi': '', 'r': 1},
    {'word': 'донизу', 'adi': '', 'r': 0},
    {'word': 'досуха', 'adi': '', 'r': 0},
    {'word': 'засветло', 'adi': '', 'r': 0},
    {'word': 'затемно', 'adi': '', 'r': 0},
    {'word': 'красивее', 'adi': 'сравн. ст. нар. красиво', 'r': 1},
    {'word': 'надолго', 'adi': '', 'r': 1},
    {'word': 'ненадолго', 'adi': '', 'r': 2}
]


vowel = ['у', 'е', 'ы', 'а', 'о', 'э', 'я', 'и', 'ю', 'ё']


function reload(i) {
    {
        if (document.querySelector('#word').children[i].getAttribute('disabled') != undefined) { return; }
        for (let i2=0;i2<document.querySelector('#word').children.length;i2++) { document.querySelector('#word').children[i2].setAttribute('disabled', ''); }
        if (document.querySelector('#word').children[i].getAttribute('id').slice(1) != accent_words[Number(getCookie("accent_word"))]['r'].toString()) {
            document.querySelector('#word').children[i].setAttribute('class', 'wrong');
        }
        document.querySelector('#v'+accent_words[Number(getCookie("accent_word"))]['r'].toString()).setAttribute('class', 'right');

        setTimeout(() => {
            let opacity = 100;
            const interval = setInterval(() => {
                document.querySelector('#word-div').style.opacity = opacity / 100;
                opacity--;
                if (opacity < 0) {
                    clearInterval(interval);
                    document.cookie = `accent_word=${Number(getCookie("accent_word")) + 1}`;
                    // location.reload();

                    try { accent_words[Number(getCookie("accent_word"))]['r'] = accent_words[Number(getCookie("accent_word"))]['r'] } catch {
                        document.cookie = "accent_word=0";
                        document.cookie = "random=1";
                    }

                    accent_word_number = document.querySelector('#accent_word_number');
                    if (getCookie("random") != "1") {
                        accent_word_number.textContent = getCookie("accent_word") + "/" + accent_words.length;
                    } else {
                        accent_word_number.textContent = '';
                    }

                    word = document.createElement('span');
                    word.setAttribute('id', 'word');
                    if (getCookie("random") == "1") { document.cookie = "accent_word="+Math.floor(Math.random()*accent_words.length); }
                    accent_word = accent_words[Number(getCookie("accent_word"))]?.word || '';
                    let innerHTML = '';
                    let g = 0;
                    for (let i = 0; i < accent_word.length; i++) {
                        if (vowel.includes(accent_word[i])) {
                            innerHTML += `<span id="v${g}">${accent_word[i]}</span>`;
                            g++;
                        } else { innerHTML += accent_word[i]; }
                    }
                    word.innerHTML = innerHTML;
                    document.querySelector('#word-div').innerHTML = '';
                    document.querySelector('#word-div').appendChild(word);

                    for (let i=0;i<document.querySelector('#word').children.length;i++) {
                        document.querySelector('#word').children[i].addEventListener('click', () => reload(i));
                    }

                    if (accent_words[Number(getCookie("accent_word"))]['adi'] != '') {
                        adi = document.createElement('p');
                        adi.setAttribute('id', 'additional-info');
                        adi.textContent = accent_words[Number(getCookie("accent_word"))]['adi'];
                        document.querySelector('#word-div').appendChild(adi);
                    }

                    let opacity2 = 0;
                    const interval2 = setInterval(() => {
                        document.querySelector('#word-div').style.opacity = opacity2 / 100;
                        opacity2++;
                        if (opacity2 > 100) {
                            clearInterval(interval2);
                        }
                    }, 1);
                }
            }, 0.7);
        }, 1000);
    }
}


function getCookie(name) {
    let matches = document.cookie.match(new RegExp(
      "(?:^|; )" + name.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g, '\\$1') + "=([^;]*)"
    ));
    return matches ? decodeURIComponent(matches[1]) : undefined;
}

if (getCookie("accent_word") === undefined) {
    document.cookie = "accent_word=0";
}

try { accent_words[Number(getCookie("accent_word"))]['r'] = accent_words[Number(getCookie("accent_word"))]['r'] } catch {
    document.cookie = "accent_word=0";
    document.cookie = "random=1";
}

accent_word_number = document.createElement('p');
accent_word_number.setAttribute('id', 'accent_word_number');
if (getCookie("random") != "1") { accent_word_number.textContent = getCookie("accent_word") + "/" + accent_words.length; }
document.querySelector("nav").appendChild(accent_word_number);

word = document.createElement('span');
word.setAttribute('id', 'word');
if (getCookie("random") == "1") { document.cookie = "accent_word="+Math.floor(Math.random()*accent_words.length); }
accent_word = accent_words[Number(getCookie("accent_word"))]?.word || '';
let innerHTML = '';
let g = 0;
for (let i = 0; i < accent_word.length; i++) {
    if (vowel.includes(accent_word[i])) {
        innerHTML += `<span id="v${g}">${accent_word[i]}</span>`;
        g++;
    } else { innerHTML += accent_word[i]; }
}
word.innerHTML = innerHTML;
document.querySelector('#word-div').appendChild(word);


for (let i=0;i<document.querySelector('#word').children.length;i++) {
    document.querySelector('#word').children[i].addEventListener('click', () => reload(i));
}


if (accent_words[Number(getCookie("accent_word"))]['adi'] != '') {
    adi = document.createElement('p');
    adi.setAttribute('id', 'additional-info');
    adi.textContent = accent_words[Number(getCookie("accent_word"))]['adi'];
    document.querySelector('#word-div').appendChild(adi);
}


let opacity = 0;
const interval = setInterval(() => {
    document.querySelector('#word-div').style.opacity = opacity / 100;
    opacity++;
    if (opacity > 100) {
        clearInterval(interval);
    }
}, 1);