correct = [
    "килограмм яблок",
    "поезжай в подмосковье",
    "языки пламени",
    "поезжай вперёд",
    "попробуем решить",
    "попробуем помочь",
    "не ездите быстро",
    "четверо учеников",
    "стрижёт клиентов",
    "ближайшая станция",
    "нет времени",
    "пара шерстяных носков",
    "более просто",
    "поезжай к лесу",
    "надеть перчатки",
    "в пятистах метрах отсюда",
    "варка макарон",
    "директора предприятий",
    "в две тысячи десятом году",
    "зажжёт фейерверк",
    "триста килограммов",
    "соболиный воротник",
    "нет вишен",
    "семьюдесятью сотрудниками",
    "заезжай завтра",
    "с тремястами новобранцами",
    "жареные тетерева",
    "с пятьюдесятью копейками",
    "их коллеги",
    "клади на место",
    "о пятистах сорока рублях",
    "менее интересно",
    "выкладывай",
    "более светлый",
    "более полутораста зрителей",
    "около трех аршин",
    "домашняя туфля",
    "по приезде в город",
    "шестьюдесятью годами",
    "без погон",
    "восемь тонн",
    "с полутора метров",
    "тридцать граммов",
    "пара чулок",
    "самый надёжный",
    "менее значимый",
    "несколько полотенец",
    "смелее всех",
    "жаждет славы",
    "слаще мёда",
    "положи на полку",
    "дорогим шампунем",
    "в трёхстах метрах",
    "красивее",
    "помашите отъезжающим",
    "петь ещё звонче",
    "все инженеры",
    "их заботы",
    "у их сестры",
    "пить из блюдец",
    "ещё богаче",
    "трое друзей",
    "уборка яслей",
    "наиболее сильный",
    "восьмьюдесятью словами",
    "полощет бельё",
    "о полутора часах",
    "четырьмястами студентами",
    "две пары ботинок",
    "повеселее",
    "ряд критериев",
    "обоих студентов",
    "их труды",
    "несколько абрикосов",
    "лучший ответ",
    "семьюдесятью процентами",
    "вместе с детьми",
    "искомый ответ",
    "наилучших снимков",
    "более красивый",
    "иностранные паспорта",
    "насквозь промок",
    "поезжайте на юг",
    "одень ребёнка",
    "береговые катера",
    "скоро выздоровеет",
    "почти в ста странах",
    "сильнее всего",
    "пять килограммов риса",
    "дальние деревни",
    "молодые бухгалтеры",
    "длиннее",
    "добрейший человек",
    "стирка полотенец",
    "нет пятисот рублей",
    "у обеих сестёр",
    "лягте на коврик",
    "шестьюстами листами",
    "пара яблок",
    "о шестидесяти сотрудниках",
    "обеими руками",
    "шофёры со стажем",
    "его учебник",
    "выговоры",
    "семьюстами книгами",
    "течёт вода",
    "шестьюстами письмами",
    "кладите аккуратнее",
    "более крупная рыба",
    "его перчатки",
    "поезжай прямо",
    "новые паспорта",
    "пятистам гостям",
    "ста двадцатью пятью литрами",
    "не лазайте через забор",
    "интереснее всех",
    "стать более разговорчивым",
    "отряд партизан",
    "в тысяча девятьсот двадцать пятом году",
    "пять килограммов муки",
    "горные инженеры",
    "жёстче дерева",
    "пять абзацев",
    "обоих учеников",
    "сказать более громко",
    "исчезнув вдали",
    "к девятистам избирателям",
    "поезжайте домой",
    "из нового тюля",
    "нырнуть более глубоко",
    "оправдательные приговоры",
    "обеих женщин",
    "четырьмястами подписчиками",
    "пара полотенец",
    "кратчайший путь",
    "его взгляды",
    "более высоко расположен",
    "банка консервов",
    "в трёхстах государствах",
    "полощущий бельё",
    "их комната",
    "спелых абрикосов",
    "наиболее яркий",
    "пусть попробует",
    "почётные титулы",
    "в две тысячи шестом году",
    "поднять более высоко",
    "директора школ",
    "лежит в шкафу",
    "к две тысячи семнадцатому году",
    "ярче солнца",
    "вкусные торты",
    "их учебники",
    "пять пихт",
    "задача более лёгкая",
    "испечём пирог",
    "лягте на кушетку",
    "более надёжный",
    "пятистам абонентам",
    "две пары джинсов",
    "обеим ученицам",
    "поскользнулся и упал",
    "пять помидоров",
    "новые джемперы",
    "много макарон",
    "их дача",
    "шесть вишен",
    "(правая) туфля",
    "наивысшее наслаждение",
    "здоровые дёсны",
    "сотрёт с доски",
    "петь звонче",
    "в полутораста метрах",
    "две пары носков",
    "помашите рукой",
    "шесть блюдец",
    "наилучший способ",
    "семьюстами ответами",
    "старые паспорта",
    "лягте на спину",
    "саженцы яблонь",
    "четырьмястами отзывами",
    "помыть шампунем",
    "поскользнулся на льду",
    "в семистах вёрстах",
    "более долго",
    "мокла под дождём",
    "нескольких барышень",
    "выбрали место посуше",
    "осенние месяцы",
    "подожжёшь хворост",
    "в обоих отзывах",
    "приобретший дом",
    "девяноста саженцам",
    "произнёс более тихо",
    "поезжай в город",
    "более полутораста тетрадей",
    "заговорил более весело",
    "мать четверых детей",
    "килограмм баклажанов",
    "несколько башен",
    "шерстяные свитеры",
    "наисложнейшая операция",
    "возьми нитку потолще",
    "к восьмисотому году",
    "стебли георгинов",
    "мебель для кухонь",
    "в тысяча восьмисотом году",
    "забрать из яслей",
    "наиболее умный",
    "шесть падежей",
    "пой звонче",
    "ляг на кушетку",
    "несколько спален",
    "шестьюдесятью сотрудниками",
    "более крепкий",
    "открыв книгу",
    "пробуя на вкус",
    "никому не завидую",
    "прочитал более выразительно",
    "богатые князья",
    "из свежих абрикосов",
    "клуб для барышень",
    "о шестистах жильцах",
    "в их квартире",
    "сдайте паспорта",
    "несколько гнездовий",
    "сказал более уверенно",
    "образ исчез",
    "трое ножниц",
    "крошечный домишко",
    "пятьсот пятидесятая страница",
    "наиболее ответственный",
    "семисот семидесяти экземпляров",
    "голос умолк",
    "много сплетен",
    "менее строгий тон",
    "шесть щупалец",
    "свежая салями",
    "дожить до девяноста лет",
    "глубочайшее озеро",
    "вязаные свитеры",
    "коробка консервов",
    "более нужный элемент",
    "в обеих колоннах",
    "лягте на диван",
    "зажжётся огонь",
    "разные возрасты",
    "несколько солдат",
    "быть выше всех",
    "чудеснейший момент",
    "закупили полтораста учебников",
    "объяснил более доходчиво",
    "им движет чувство долга",
    "бархатных платьев",
    "оказался бойче всех",
    "с пятисотым конкурсантом",
    "на обеих сторонах",
    "не лезь наверх",
    "в аэропорту",
    "шестьюдесятью попытками",
    "несколько поместий",
    "двое саней",
    "он всех быстрее",
    "на двести шестой странице",
    "это яблоко намного крупнее",
    "земные недра",
    "натерев солью",
    "обгрызенная корка хлеба",
    "находится в аэропорту",
    "закутавшись в одеяло",
    "окрепший организм",
    "столы для кухонь",
    "напоив чаем",
    "более полутораста подписчиков",
    "идя по бульвару",
    "приведший к успеху",
    "несколько джинсов",
    "бежит намного быстрее",
    "четырьмястами рублями",
    "крепчайшее рукопожатие",
    "двое очков",
    "со ста пятью карточками",
    "менее впечатлителен",
    "в поиске ущелий",
    "стережёт дом",
    "озяб на ветру",
    "двое друзей",
    "из жарких пустынь",
    "сбережёт здоровье",
    "с полутораста килограммами",
    "на протяжении четырёхсот лет",
    "опытные тренеры",
    "несколько барышень",
    "шторы из тюля",
    "говори поменьше",
    "сбросить с плеч",
    "подписать договоры",
    "прыгнуть более высоко",
    "к две тысячи тридцатому году",
    "китель без погон",
    "двое козлят",
    "наилучший выбор",
    "табун из семисот лошадей",
    "прочитав статью",
    "бочки без доньев",
    "эта серия интереснее всего",
    "обгрызенное яблоко",
    "он лазит по забору",
    "промок под дождём",
    "более пятисот заявлений",
    "вкусные крендели",
    "голос звонче",
    "пюре из баклажанов",
    "этот комплект поинтереснее",
    "источник иссяк",
    "не клади коробки на подоконник",
    "парикмахер стрижёт",
    "четверо саней",
    "паспорта родителей",
    "снять туфлю",
    "пара джинсов",
    "мягчайший мармелад",
    "пять свечей",
    "ветер треплет деревце",
    "улёгшийся на диван",
    "в течение полутора часов",
    "будущее время",
    "завидующий другу",
    "целиком вмёрзший",
    "нелепейшая история",
    "медицинские полисы",
    "килограмм мандаринов",
    "поезжай домой",
    "красивого тюля",
    "к девятистам прибавить шесть",
    "несколько кеглей",
    "три восьмых",
    "обретший покой",
    "надёжные сторожа",
    "пять ампер",
    "семьюстами клумбами",
    "нырнуть глубже",
    "он угрюмее всех",
    "построив небоскрёб",
    "наиболее уместный",
    "исчез из поля зрения",
    "нас четверо",
    "наидобрейший человек",
    "о девяноста выпускниках",
    "снял туфлю",
    "несколько вишен",
    "не портите вещи",
    "пятьдесят вольт",
    "новые сорта",
    "о полутора годах",
    "двигаясь по прямой",
    "пришедший вовремя",
    "легчайшая ткань",
    "более острое лезвие",
    "обгрызенные ногти",
    "к девятисотому километру",
    "новые загранпаспорта",
    "увядшие цветы",
    "с девяноста рублями",
    "много кушаний",
    "глупейший вымысел",
    "показался из сумерек",
    "с полутораста автомобилями",
    "у весёлых цыган",
    "будучи в командировке",
    "изучил наиболее глубоко",
    "озяб на улице",
    "группа партизан",
    "новые сторожа",
    "двери намного белее",
    "около восьмисот километров",
    "стрижёт газон",
    "укладка рельсов",
    "пожелания всего наилучшего",
    "в будущем году",
    "группа осетин",
    "свежая брокколи",
    "новая сеть пекарен",
    "ледяные недра",
    "с восемьюстами килограммами",
    "пять кеглей",
    "более полутораста учащихся",
    "(технические) редакторы",
    "(нет) блюдец",
    "полутора (саженями)",
    "(встретились) у неё",
    "жжёт сухие листья",
    "нашли место потише",
    "прополощи бельё",
    "скоро выздоровеем",
    "рота солдат",
    "большие контейнеры",
    "приобретший акции",
    "пара кроссовок",
    "без долгих раздумий",
    "около трёхсот экземпляров",
    "говори более чётко",
    "пара сандалий",
    "на шестисотой странице",
    "обращался наиболее часто",
    "лазит по заборам",
    "молодые повара",
    "комплект полотенец",
    "более мягко выразился",
    "подбросить углей",
    "наиболее удачно",
    "положите на стол",
    "несколько яблонь",
    "более слаб физически",
    "к две тысячи восьмому году",
    "колышется на ветру",
    "сливочные кремы",
    "офицерских погон",
    "стая цапель",
    "к четырёмстам сорока саженцам",
    "прийти вовремя",
    "несколько кухонь",
    "одежда промокла",
    "группа болгар",
    "пара туфель",
    "на ширине плеч",
    "говорить с ними",
    "у пятисот учеников",
    "бухгалтеры",
    "оладьи с повидлом",
    "более глубок",
    "вывезите из города",
    "умолкнувший голос",
    "менее полутораста метров",
    "более красиво",
    "восхищаться ею",
    "подписанные договоры",
    "без сапог",
    "обошедший препятствия",
    "благодаря её за помощь",
    "менее далёк",
    "без носков",
    "гаснувший",
    "густым шампунем",
    "из ущелий",
    "без комментариев",
    "опытные шофёры",
    "поезжай медленно",
    "налаживает (оборудование)",
    "нет свечей",
    "им движет зависть",
    "семьюстами рублями",
    "мотор заглох",
    "весенние месяцы",
    "более звонко",
    "к четырёмстам ученикам",
    "(речь) менее быстра",
    "до полуночи",
    "он поскользнулся",
    "пачка макарон",
    "несколько абзацев",
    "в полуметре от дороги",
    "густые соусы",
    "справились благодаря ей",
    "у ближних деревень",
    "недра земли",
    "мёрз на ветру",
    "с пятьюстами рублями",
    "пластиковые контейнеры",
    "она мерит платье",
    "использование шампуня",
    "во время гуляний",
    "сожжёшь свечи",
    "в семистах (метрах)",
    "более мягко",
    "пропуски (занятий)",
    "полощу бельё",
    "лазерные принтеры",
    "полные погреба",
    "пара серёг",
    "более интересен",
    "много вафель",
    "нет полотенец",
    "промокнул салфеткой",
    "ярчайший образец",
    "опытные редакторы",
    "у пламени костра",
    "попробуешь дойти",
    "редчайший случай",
    "благодаря им",
    "в обеих сериях",
    "не услышав ответа"
]

incorrect = [
    "голос более звучнее",
    "поднялся более выше",
    "посмотрел более строже",
    "пятьсотый заказ",
    "с шестистами рублями",
    "песни цыганей",
    "взвод солдатов",
    "ответить более точнее",
    "пара джинс",
    "более пятиста метров",
    "копчёные окороки",
    "запретящий игры",
    "поклади на стол",
    "мебель для кухней",
    "с трёхстами килограммами",
    "с двух тысячи первого года",
    "пара сапогов",
    "зажгём огоньки",
    "нет сапогов",
    "(красивый) подчерк",
    "прийти более позднее",
    "не пророняя слов",
    "рота солдатов",
    "много яблоков",
    "трёхстам жителям",
    "у новых туфлей",
    "ляжьте",
    "опытные токаря",
    "лопнутые пружины",
    "жгёшь солому",
    "опытные тренера",
    "вдоль побережьев",
    "пять апельсин",
    "пустые термоса",
    "подпишите договора",
    "семистами тоннами",
    "пара варежков",
    "сбросить с плечей",
    "поступил более честнее",
    "трёхстами вопросами",
    "вода там более чище",
    "к четырёхстам грузовикам",
    "хорошо стригёт",
    "шинель без погонов",
    "с двухстами заказчиками",
    "более две тысяч человек",
    "не ложи локти на стол",
    "езжай прямо",
    "более красивейший пейзаж",
    "четырёхстами людьми",
    "не пророняя ни слова",
    "закрепил более надёжнее",
    "занавесить тюлью",
    "мелить зерно на мельнице",
    "аромат шампуни",
    "в восьмьюстах копиях",
    "несколько блюдцев",
    "недры земли",
    "в полуторастах милях",
    "в двухста экземплярах",
    "в полуторах метрах",
    "восьмидесятью копейками",
    "взмокнул от стараний",
    "совсем озябнул",
    "полторастами произведениями",
    "пирог с повидлой",
    "потеряла туфель",
    "в шестиста шагах",
    "стоять около рояли",
    "о семиста километрах",
    "в двух тысячи шестой раз",
    "ответственные сторожи",
    "испекёт булочки",
    "с восьмистами блюдами",
    "зажгёшь свечу",
    "много время",
    "к восемьсотому году",
    "забрать из ясель",
    "на двухсот третьем километре",
    "ложи аккуратно",
    "ремень для джинс",
    "поёт звончее",
    "ящик мандарин",
    "поедьте в город",
    "директоры школ",
    "ладонь с мозолем",
    "после тысячи двадцатого года",
    "более семиста граммов",
    "не ездийте быстро",
    "к двух тысячи пятому году",
    "положьте на стол",
    "к шестиста авторам",
    "страховые полиса",
    "с полуторастами рублями",
    "без серьёзных раздумьев",
    "пара блюдцев",
    "выслушая замечания",
    "самый величайший писатель",
    "на трёхсот шестой странице",
    "закутаясь в плед",
    "не уроняя достоинства",
    "горных ущельев",
    "с восьмидесятью ветеранами",
    "на обоих руках",
    "пятьсотый вызов",
    "две пары джинс",
    "в аэропорте",
    "с девятьюста коробками",
    "менее полтораста комментариев",
    "она не солгёт мне",
    "благодаря нему",
    "в шестисот двадцатом году",
    "семи тысячами",
    "килограмм вафлей",
    "в полуторастах метрах",
    "промокнувший под дождём",
    "о пятиста словах",
    "грохот сапогов",
    "три десятые процента",
    "ожидать более полчаса",
    "административные о́круги",
    "отряд партизанов",
    "джем из абрикос",
    "более полтора метров",
    "дожить до девяносто лет",
    "группа осетинов",
    "c тысячу восемьсот двенадцатого года",
    "карманы джинс",
    "к полуторастам рублям",
    "семьсотый километр",
    "страдать от сплетней",
    "ремонт сапогов"
]


function GetCookie(name) {
    let matches = document.cookie.match(new RegExp(
        "(?:^|; )" + name.replace(/([\.$?*|{}\(\)\[\]\\\/\+])/g, '\\$1') + "=([^;]*)"
    ));
    return matches ? decodeURIComponent(matches[1]) : null;
}


function reload() {
    document.getElementById("choices").innerHTML = "";

    for (let i=0; i<Math.random()*3; i++) {
        let choice = document.createElement("div");
        choice.innerHTML = correct[Math.floor(Math.random()*correct.length)];
        choice.addEventListener("click", function() { checkAnswer(choice); });
        document.getElementById("choices").appendChild(choice);
    }

    let choice = document.createElement("div");
    choice.innerHTML = incorrect[Math.floor(Math.random()*incorrect.length)];
    choice.addEventListener("click", function() { checkAnswer(choice); });
    document.getElementById("choices").appendChild(choice);

    let remaining = 4-document.getElementById("choices").childElementCount
    for (let i=0; i<remaining; i++) {
        let choice = document.createElement("div");
        choice.innerHTML = correct[Math.floor(Math.random()*correct.length)];
        choice.addEventListener("click", function() { checkAnswer(choice); });
        document.getElementById("choices").appendChild(choice);
    }

    let opacity = 0;
    const interval = setInterval(() => {
        document.querySelector('#choices').style.opacity = opacity / 100;
        opacity++;
        if (opacity > 100) {
            clearInterval(interval);
        }
    }, 0.7);
}


function checkAnswer(choice) {
    if (choice.getAttribute('disabled') != null) { return; }
    
    if (correct.includes(choice.innerHTML)) {
        choice.setAttribute("class", "wrong");
    }
    
    for (let i=0; i<document.getElementById("choices").childElementCount; i++) {
        let child = document.getElementById("choices").children[i];
        child.setAttribute("disabled", "");
        if (incorrect.includes(child.innerHTML)) {
            child.setAttribute("class", "right");
            child.setAttribute("disabled", "");
        }
    }

    let opacity = 100;
    const delay = setTimeout(() => {
        const interval = setInterval(() => {
            document.querySelector('#choices').style.opacity = opacity / 100;
            opacity--;
            if (opacity < 0) {
                clearInterval(interval);
                reload();
            }
        }, 1);
        clearTimeout(delay);
    }, 1500);
}

reload();